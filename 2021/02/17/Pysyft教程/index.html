<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Vector"><title>Pysyft教程 · Vector</title><meta name="description" content="MathJax.Hub.Config({
tex2jax: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  processEscapes: true
  }
});





Pysyft教程视频教程

In this tutorial, you are "><meta name="keywords" content="Vector的小窝"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><script src="/js/jquery.js"></script><meta name="generator" content="Hexo 4.2.1"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">Vector</a></h3><div class="description"><p>没人扶你的时候，自己要站直，路还长，背影要美！</p></div></div></div><ul class="social-links"><li><a href="https://github.com/IMVector" target="_blank" rel="noopener"><i class="fa fa-github"></i></a></li><li><a href="mailto:1769326712@qq.com"><i class="fa fa-envelope"></i></a></li><li><a href="http://sighttp.qq.com/authd?IDKEY=" target="_blank" rel="noopener"><i class="fa fa-qq"></i></a></li><li><a href="https://zhihu.com/people/" target="_blank" rel="noopener"><i class="fa fa-mortar-board"></i></a></li></ul><div class="footer"><div class="p"> <span>© 2017 - 2020 </span><i class="fa fa-star"></i><span> Vector</span></div><div class="by_farbox"><span>Powered by </span><a href="https://hexo.io/zh-cn/" target="_blank">Hexo </a><span> & </span><a href="https://github.com/mrcore/hexo-theme-Anatole-Core" target="_blank">Anatole-Core.  </a><span> &</span><a href="https://github.com/IMVector/blog_vector" target="_blank">Vector.  </a><a href="http://www.beian.miit.gov.cn/" target="_blank">&nbsp;粤ICP备15011643号</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li><li><a href="/tags">标签</a></li><li><a href="/about">关于</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Pysyft教程</a></h3></div><div class="post-content"><!--将该代码放入博客模板的head中即可-->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
  inlineMath: [['$','$'], ['\\(','\\)']],
  processEscapes: true
  }
});
</script>
<!--latex数学显示公式-->

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<h1 id="Pysyft教程"><a href="#Pysyft教程" class="headerlink" title="Pysyft教程"></a><a href="https://blog.openmined.org/federated-learning-of-a-rnn-on-raspberry-pis/" target="_blank" rel="noopener">Pysyft教程</a></h1><p><a href="https://youtu.be/knNgFk0uZHM" target="_blank" rel="noopener">视频教程</a></p>
<p><img src="https://blog.openmined.org/content/images/2019/05/IMG_20190510_181019.jpg" alt="img"></p>
<p>In this tutorial, you are going to learn how to setup PySyft on a Raspberry PI and how to train a Recurrent Neural Network on a Raspberry PI via PySyft. This tutorial is organized into two different parts:</p>
<p><strong>Part 1 - How to setup PySyft on a Raspberry PI</strong>. I will highlight the steps involved in setting up <a href="https://github.com/OpenMined/PySyft" target="_blank" rel="noopener">PySyft</a>, a privacy-preserving framework for federated learning, on a Raspberry PI.</p>
<p><strong>Part 2 - How to train a Recurrent Neural Network on Raspberry PIs</strong> for text classification via federated learning on Raspberry PIs. More precisely, we will be training our neural network to classify a person’s surname to its most likely language of origin.</p>
<p><strong>Federated learning</strong>: with federated learning, a model is now moved to the device, such that it can be personalized and trained in place, without having to move the data to a centralized server.</p>
<h2 id="Experimental-setup"><a href="#Experimental-setup" class="headerlink" title="Experimental setup:"></a>Experimental setup:</h2><ul>
<li>Two Raspberry PIs 3 B+ running Raspbian Stretch 4.14 connected to the internet via Ethernet, with each PI having its own static IP address for convenience of addressing.</li>
<li>A laptop running Ubuntu 18.04 LTS, connected to the same LAN of the raspberry PIs via a switch.</li>
<li>A D-Link 5-Port Fast Ethernet Desktop switch (DES-105)</li>
</ul>
<p><img src="https://blog.openmined.org/content/images/2019/05/Experimental_Setup.jpg" alt="img"></p>
<p>Please don’t mind the mess with cables in my office. Let’s get started!</p>
<hr>
<h2 id="Part-1-How-to-set-up-PySyft-on-a-Rasbperry-PI"><a href="#Part-1-How-to-set-up-PySyft-on-a-Rasbperry-PI" class="headerlink" title="Part 1 - How to set up PySyft on a Rasbperry PI"></a>Part 1 - How to set up PySyft on a Rasbperry PI</h2><hr>
<h3 id="Step-1-Install-PySyft’s-dependencies"><a href="#Step-1-Install-PySyft’s-dependencies" class="headerlink" title="Step 1 - Install PySyft’s dependencies"></a>Step 1 - Install PySyft’s dependencies</h3><p>The first thing we need to do is installing PySyft’s package dependencies on the raspberry PI. I will assume you are logged in your raspberry PI via the desktop interface or are connected to it via SSH. All you will be needing is a terminal, anyway.</p>
<p><em>Overall space requirements</em> on the raspberry PI: approximately 4GBs</p>
<p>a. <strong>Install Python 3.6.7</strong>. The first thing we will need to do is installing Python 3.6.7, overriding the Python 3.5.X installation already present on the Raspberry PIs. Note that other 3.6.X versions of Python may still be compatible with PySyft, even if these were not tested by me personally. (If you have PySyft working with them, feel free to post a comment below). I personally experienced that Python 3.5.X versions were not compatible at all with PySyft and Pytorch 1.0 instead.</p>
<p>To begin with, install the following dependencies for Python 3.6:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install build-essential tk-dev libncurses5-dev libncursesw5-dev libreadline6-dev libdb5.3-dev libgdbm-dev libsqlite3-dev libssl-dev libbz2-dev libexpat1-dev liblzma-dev zlib1g-dev</span><br></pre></td></tr></table></figure>

<p>Now actually install Python 3.6.7, compiling it from the source code. Note that the “make” compilation process may take quite some time (up to 30 minutes in my case).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span></span><br><span class="line">wget https://www.python.org/ftp/python/3.6.7/Python-3.6.7.tgz</span><br><span class="line">tar xf Python-3.6.7.tar.xz</span><br><span class="line"><span class="built_in">cd</span> Python-3.6.7</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">sudo make altinstall</span><br></pre></td></tr></table></figure>

<p>If everything went well, you may now start python3.6 by typing python3.6 in a terminal. If you’d prefer python3.6 to start up when typing python3, you may want to set it as your default python3 interpreter.</p>
<p>b. <strong>Install PyTorch 1.0.0.</strong> This was the most tricky part for me. I ran into quite a few issues when installing dependencies for Pytorch, as many packages could not be installed automatically via the “pip3” command for ARM architectures.</p>
<ol>
<li><strong>Create a SWAP file of 2 GBs</strong> . This will be necessary during the upcoming installation process of PyTorch, is it is rather memory-hungry. If you do not create a SWAP, you are likely going to run out of memory during the installation process - as it happened to me. Ensure you have sufficient available secondary memory on your Rasbperry’s SD card with df -h before running the following commands:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkswap /swap1</span><br><span class="line">sudo nano /etc/fstab</span><br></pre></td></tr></table></figure>

<p>This will open up your fstab file. If you see something like,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/swap0 swap swap</span><br></pre></td></tr></table></figure>

<p>That means you already had a swap,  so replace /swap0 swap swap with the following line:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/swap1 swap swap</span><br></pre></td></tr></table></figure>

<p>If the line/swap0 swap swap is <strong>not</strong> present, then add the following line to your fstab file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/swap1 swap swap</span><br></pre></td></tr></table></figure>

<p>In order for your Raspberry PI to recognize the new SWAP space, reboot your Raspberry PI:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo reboot -h now</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>Install the Pytorch’s packages’ dependencies:</strong> We will be needing a few more packages before actually installing Pytorch, so run the following commands to install Pytorch’s dependencies:</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libopenblas-dev libblas-dev m4 cmake cython python3-dev python3-yaml python3-setuptools</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>Get Pytorch 1.0.0 from the official GIT repository</strong> : At the time of writing, Pytorch was not available from the official Python “pip” package manager for ARM architectures, so we will need to compile it from source. Let’s get it the 1.0.0 version from the official GIT repository.</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir pytorch_install &amp;&amp; <span class="built_in">cd</span> pytorch_install</span><br><span class="line">git <span class="built_in">clone</span> --recursive https://github.com/pytorch/pytorch --branch=v1.0.0</span><br><span class="line"><span class="built_in">cd</span> pytorch</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>Set up environment variables for compiling Pytorch:</strong> Let’s run these last few commands in a shell before starting the compilation process, or add the environment variables to the .bashrc file in your home directory. Bear in mind we will need these variables just for the Pytorch’s installation process. The NO_CUDA flag will make sure that the compiler doesn’t look for cuda files, as the Raspberry PI is not equipped with a GPU by default.</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> NO_CUDA=1</span><br><span class="line"><span class="built_in">export</span> NO_DISTRIBUTED=1</span><br><span class="line"><span class="built_in">export</span> NO_MKLDNN=1 </span><br><span class="line"><span class="built_in">export</span> NO_NNPACK=1</span><br><span class="line"><span class="built_in">export</span> NO_QNNPACK=1</span><br></pre></td></tr></table></figure>

<p><strong>5. Compile Pytorch:</strong> Now start building and cross your fingers, hoping no errors arise. This process may be quite lengthy: in my case, I let it run overnight and manually installed a few missing packages that could not be automatically downloaded and compiled by the pytorch installer.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> pytorch_install/pytorch</span><br><span class="line">python3 setup.py build <span class="comment">#make sure python3 = python3.6</span></span><br></pre></td></tr></table></figure>

<p><em>TROUBLESHOOTING:</em> If you encounter the following error:</p>
<blockquote>
<p>Failed to run ‘bash tools/build_pytorch_libs.sh –use-cuda –use-nnpack –use mkldnn –use qnnpack caffe2’</p>
</blockquote>
<p>Then that means you haven’t set the environment variables properly. Set the environment variables correctly, then retry.</p>
<p>If the compilation process stops halfway because of an error, your progresses is not lost! It will resume compiling at the point where it stopped.</p>
<p><strong>6. Install Pytorch:</strong> The installation should be much quicker than the compilation process (it took about 5 minutes on my Raspberry PI). To install Pytorch, just run:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -E python3 setup.py install</span><br></pre></td></tr></table></figure>

<p>If the installation completed successfully, let’s try importing Pytorch in python3. Do not run the following commands while you’re in Pytorch’s installation directory, as that’s likely to yield import errors. To test your installation:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> </span><br><span class="line">python3</span><br><span class="line">import torch</span><br><span class="line"><span class="built_in">print</span>(torch.__version__)</span><br></pre></td></tr></table></figure>

<p>If everything went well and no errors arise during the compilation process, we will now be able to import Pytorch in Python successfully:</p>
<p><img src="https://blog.openmined.org/content/images/2019/05/success_raspberry.png" alt="img"></p>
<hr>
<h3 id="Step-2-Install-PySyft"><a href="#Step-2-Install-PySyft" class="headerlink" title="Step 2 - Install PySyft"></a>Step 2 - Install PySyft</h3><p>The easiest way to install PySyft would be via the following command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># at the time of writing, this won't work</span></span><br><span class="line">pip install syft</span><br></pre></td></tr></table></figure>

<p>However, at the time of writing and during my experiments, PySyft could not be found in the official <em>pip repository</em> tool for ARM architectures. So, we’ll have to compile it from source, analogously to what we did for Pytorch.</p>
<p>a. <strong>Get the latest version of PySyft:</strong> Let’s get PySyft from its Git repository:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/OpenMined/PySyft.git</span><br><span class="line"><span class="built_in">cd</span> PySyft</span><br></pre></td></tr></table></figure>

<p>b. <strong>Install PySyft’s dependencies:</strong> This time, most of PySyft’s dependencies will actually be recognized by <em>pip</em> . You will need to have some patience while installing these packages though. The whole process took a few hours on my Raspberry PI.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install -r requirements.txt</span><br></pre></td></tr></table></figure>

<p>c. <strong>Compile PySyft:</strong> Once you have installed all the dependencies for PySyft, we can compile PySyft.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 setup.py build <span class="comment">#make sure python3=python3.6</span></span><br></pre></td></tr></table></figure>

<p>d. <strong>Install Pysft</strong>: If the compilation process completed successfully, we can finally install PySyft - we are almost there!</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -E python3 setup.py install</span><br></pre></td></tr></table></figure>

<p>If no error occurs during the installation process, let’s test our PySyft’s installation with the following commands:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span></span><br><span class="line">python3</span><br><span class="line">import syft</span><br></pre></td></tr></table></figure>

<p>Once again, if you do not get any errors when importing PySyft in Python3, that means you have successfully installed PySyft. Hoorah!</p>
<p><img src="https://blog.openmined.org/content/images/2019/05/syft_picture.png" alt="img"></p>
<p>The whole process of installing the right Python version, Pytorch, PySyft, along with all the requires dependencies took me a couple of days. Once you have installed PySyft on one Raspberry PI, you may want to make a backup of your Raspbian ISO with the proper dependencies installed and burn the ISO to other Raspberry PIs. I found the following tool particularly handy for this purpose: <a href="https://sourceforge.net/projects/win32diskimager/" target="_blank" rel="noopener">Win32 Disk Imager,</a> for Windows only currently.</p>
<p><strong>References</strong>:</p>
<ul>
<li>How to install Pyhon3.6 on a Raspberry PI:</li>
</ul>
<p><a href="http://www.knight-of-pi.org/installing-python3-6-on-a-raspberry-pi/" target="_blank" rel="noopener">http://www.knight-of-pi.org/installing-python3-6-on-a-raspberry-pi/</a></p>
<ul>
<li>How to install Pytorch on a Raspberry PI:</li>
</ul>
<p><a href="https://wormtooth.com/20180617-pytorch-on-raspberrypi/" target="_blank" rel="noopener">https://wormtooth.com/20180617-pytorch-on-raspberrypi/</a></p>
<p><a href="https://medium.com/hardware-interfacing/how-to-install-pytorch-v4-0-on-raspberry-pi-3b-odroids-and-other-arm-based-devices-91d62f2933c7" target="_blank" rel="noopener">https://medium.com/hardware-interfacing/how-to-install-pytorch-v4-0-on-raspberry-pi-3b-odroids-and-other-arm-based-devices-91d62f2933c7</a></p>
<hr>
<h2 id="Part-2-How-to-train-a-Recurrent-Neural-Network-on-Raspberry-PIs-in-a-federated-way"><a href="#Part-2-How-to-train-a-Recurrent-Neural-Network-on-Raspberry-PIs-in-a-federated-way" class="headerlink" title="Part 2 - How to train a Recurrent Neural Network on Raspberry PIs in a federated way"></a>Part 2 - How to train a Recurrent Neural Network on Raspberry PIs in a federated way</h2><hr>
<p>In this part of the tutorial, we will be training a Recurrent Neural Network for classifying a person’s surname to its most likely language of origin in a federated way, making use of workers running on the two Raspberry PIs that are now equipped with python3.6, PySyft, and Pytorch. A <strong>character-level RNN</strong> treats words as a series of characters - outputting a prediction and “hidden state” per character, feeding its previous hidden state into each next step. We take the final prediction to be the output, i.e. which class the word belongs to. Hence the training process proceeds sequentially character-by-character through the different hidden layers.</p>
<p><em>Requirement:</em> You must have completed Part 1 of this tutorial successfully.</p>
<h3 id="1-Start-the-worker-servers-on-the-Raspberry-PIs"><a href="#1-Start-the-worker-servers-on-the-Raspberry-PIs" class="headerlink" title="1. Start the worker servers on the Raspberry PIs"></a>1. Start the worker servers on the Raspberry PIs</h3><p>We will need to start a remote worker on each raspberry PI. If you have one single Raspberry PI or you would like to detach from the workers while performing the computation, you may want to use “screen” as well.  Presently, we will be using just two Raspberry PIs.</p>
<p>On your <strong>Raspberry 01</strong>, run:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install screen</span><br><span class="line">screen</span><br><span class="line"><span class="built_in">cd</span> PySyft</span><br><span class="line">python3 run_websocket_server --host &lt;your_ip&gt; --port 8777 --id alice</span><br></pre></td></tr></table></figure>

<p>Detach from your current screen session by pressing CTRL + A + D</p>
<p>On your <strong>Raspberry 02</strong>, run:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install screen</span><br><span class="line">screen</span><br><span class="line"><span class="built_in">cd</span> </span><br><span class="line"><span class="built_in">cd</span> PySyft</span><br><span class="line">python3 run_websocket_server --host &lt;your_ip&gt; --port 8778 --id bob</span><br></pre></td></tr></table></figure>

<p>Detach from your current screen session by pressing CTRL + A + D</p>
<p>If you just have one Raspberry PI, run both commands on the same Raspberry PI. If you don’t have any Raspberry PI, just run both commands on your laptop to simulate two remote workers.</p>
<h3 id="2-Set-up-the-central-coordinator"><a href="#2-Set-up-the-central-coordinator" class="headerlink" title="2. Set up the central coordinator"></a>2. Set up the central coordinator</h3><p>We will now use our laptop as a central coordinating entity, responsible for distributing the data and the models to the workers that are currently running on the Raspberry PIs.</p>
<p>On your <strong>laptop</strong>:</p>
<p>a. <strong>Install and clone PySyft:</strong> Install PySyft, clone the official PySyft repository and navigate to the directory where the Recurrent Neural Network example is located and start up the Jupyter Notebook that is located there.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pip3 install syft</span><br><span class="line"><span class="built_in">cd</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/OpenMined/PySyft.git</span><br><span class="line"><span class="built_in">cd</span> PySyft/examples/tutorials/advanced</span><br><span class="line">jupyter notebook <span class="string">'Federated Recurrent Neural Network.ipynb'</span></span><br></pre></td></tr></table></figure>

<p>NOTE: Make sure you have the same PySyft version on all the raspberry PIs and on your laptop, or you may bump into errors halfway through the federated training process, as I could experience in first person. We will go through now.</p>
<p>b. <strong>Specify the remote workers’s location:</strong> In your Jupyter Notebook running on the laptop, hit CTRL+F and search for “ip_alice”. Comment out the lines referring to <em>virtual workers (If you don’t have any Raspberry PI, you may still run the following code locally.)</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#hook = sy.TorchHook(torch)  # &lt;-- NEW: hook PyTorch ie add extra</span></span><br><span class="line"><span class="comment">#alice = sy.VirtualWorker(hook, id="alice")  </span></span><br><span class="line"><span class="comment">#bob = sy.VirtualWorker(hook, id="bob")  </span></span><br><span class="line"><span class="comment">#charlie = sy.VirtualWorker(hook, id="charlie") </span></span><br><span class="line"><span class="comment">#workers_virtual = [alice, bob]</span></span><br></pre></td></tr></table></figure>

<p>And un-comment the lines referring to remote workers, specifying the Raspberry PIs’ IP:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#If you have your workers operating remotely, like on Raspberry PIs</span></span><br><span class="line">hook = sy.TorchHook(torch)  <span class="comment"># &lt;-- NEW: hook PyTorch ie add extra</span></span><br><span class="line">kwargs_websocket_alice = &#123;<span class="string">"host"</span>: <span class="string">"ip_alice"</span>, <span class="string">"hook"</span>: hook&#125;</span><br><span class="line">alice = WebsocketClientWorker(id=<span class="string">"alice"</span>, port=<span class="number">8777</span>, **kwargs_websocket_alice)</span><br><span class="line">kwargs_websocket_bob = &#123;<span class="string">"host"</span>: <span class="string">"ip_bob"</span>, <span class="string">"hook"</span>: hook&#125;</span><br><span class="line">bob = WebsocketClientWorker(id=<span class="string">"bob"</span>, port=<span class="number">8778</span>, **kwargs_websocket_bob)</span><br><span class="line">workers_virtual = [alice, bob]</span><br></pre></td></tr></table></figure>

<p>c. <strong>Run the code!</strong> Now you just need to run every single cell of the Jupyter Notebook! You may find an explanation of the Recurrent Neural Network training process on Raspberry PIs based on the Jupyter Notebook you cloned previously in this video:</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2021-02-17</span><i class="fa fa-tag"></i><span class="leancloud_visitors"></span></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="" onclick="javascript:join_favorite()" ref="sidebar"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://yoursite.com/2021/02/17/Pysyft教程/,Vector,Pysyft教程,;" target="_blank" rel="noopener"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2021/02/17/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%A4%E6%96%AD/" title="时间复杂度判断">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2021/02/17/%E4%BC%98%E7%BE%8E%E7%9A%84%E6%8E%92%E5%88%972/" title="优美的排列2">下一篇</a></li></ul></div><script src="/js/visitors.js"></script><a id="comments"></a><div id="vcomments" style="margin:0 30px;"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/gh/xcss/valine@latest/dist/Valine.min.js"></script><script>var valine = new Valine({
  el:'#vcomments',
  notify:false || false, 
  verify:false|| false, 
  app_id:'',
  app_key:'',
  placeholder:'念念不忘，必有回响...',
  path: window.location.pathname,
  serverURLs: '',
  visitor:true,
  recordIP:true,
  avatar:'mp'
})</script></div></div></div></div><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/add-bookmark.js"></script><script src="/js/baidu-tongji.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"position":"left","width":200,"height":350},"mobile":{"show":true},"react":{"opacity":1},"log":false});</script></body></html>